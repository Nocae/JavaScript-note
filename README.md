# JAVASCRIPT

## DOM

文档对象模型（DOM），是一个应用编程接口（API），用于在HTML中使用扩展的XML

>DOM将整个页面抽象为一组分层节点，HTML或XML页面的每个组成部分都是一种节点，包含不同的数据
>DOM通过创建表示文档的树，让开发者随心所欲控制网页的内容和结构
>使用DOM API可以轻松删除、添加、替换、修改模块

1.DOM级别

DOM Level 1 成为W3C的推荐标准。规范由两个模块组成：DOM Core 和 DOM HTML  
前者提供了一种映射XML文档，从而方便访问和操作文档任意部分的方式  
后者扩展了前者，并增加了特定HTML的对象和方法

## BOM

IE3和Netscape Navigator 3 提供了浏览器对象模型（BOM）API，用于支持访问和操作浏览器的窗口。  
BOM主要针对浏览器窗口和子窗口

人们通常把任何特定于浏览器的扩展都归在BOM范畴，如：

- 弹出新浏览器窗口的能力；
- 移动、缩放和关闭浏览器窗口的能力；
- navigator对象，提供关于浏览器的详尽信息；
- location对象，提供浏览器加载页面的详尽信息；
- screen对象，提供关于用户屏幕分辨率的详尽信息；
- performance对象，提供浏览器内存占用、导航行为和时间统计的详尽信息；
- 对cookie的支持；
- 其他自定义对象，如 XMLHttpRequest和IE的ActiveXObject。

## HTML中的JAvaScript

### &lt;script&gt;元素

将javascript插入HTML的主要方法是使用&lt;script&gt;元素

&lt;script&gt;元素中有八个属性：

- async：可选。表示立即开始下载脚本，只对外部脚本有效
- charset：可选。使用src属性指定的代码字符集
- crossorigin：可选。配置相关请求的CORS（跨源资源共享）设置
- defer：可选。表示脚本可以延迟到文档完全被解析和显示后再执行，只对外部脚本有效
- interity：可选。允许对比接收到的资源和指定的加密签名以验证子资源完整性
- language： 废弃。表示代码块中的脚本语言
- src：可选。表示包含要执行的代码的外部文件
- type：可选。 代替language，表示代码块中脚本语言的内容类型（同称MIME类型），如果这个值是nodule则代码会被当成ES6模块，而且只有这时候代码中才能出现import和export关键字

### 标签位置

把所有的JavaScript文件都放在&lt;head&gt;中，意味着要把所有的JavaScript都下载、解析和解释完成后，才开始渲染页面  
对于需要很多JavaScript的页面，这会导致页面渲染的明显延迟，在此期间浏览器窗口完全空白  
现代Web应用程序通常将所有JavaScript引用放在&lt;body&gt;元素中的页面内容后面

### 推迟执行脚本

HTML4.01为&lt;script&gt;定义了一个叫defer的属性  
设置defer属性，相当于告诉浏览器立即下载，但延迟执行

### 异步执行脚本

HTML5为&lt;script&gt;定义了async属性，从处理方式看，async属性与defer属性类似  
它们两者都只适用于外部脚本，都会告诉浏览器立即开始下载  
与defer不同的是标记为async的脚本并不保证能按照它们出现的次序执行

详见课本15页，嘤嘤嘤~~~

### 动态加载脚本

因为javascript可以使用DOM API，所以通过向DOM中动态添加script元素同样可以加载指定的脚本  
只要创建一个script元素并将其添加到DOM中即可

详见课本15页，嘤嘤嘤~~~

### 文档模式

最初的文档模式有两种：混杂模式（quirks mode），标准模式（standards mode）  
后来出现了第三种文档模式：准标准模式（almost standards mode），主要区别在于如何对待图片元素周围的空白  

### &lt;noscript&gt;元素

对于禁用script的浏览器来说，这个元素依然有它的用处  

>&lt;noscript&gt;元素可以包含任何可以出现在&lt;body&gt;中的HTML元素，&lt;script&gt;除外
在下列两种情况下，浏览器将会显示包含在&lt;script&gt;中的内容：
- 浏览器不支持脚本；
- 浏览器对脚本的支持被关闭；

>简单来说就是浏览器不可使用脚本后将显示&lt;noscript&gt;元素内内容

## 语言基础

### 区分大小写

>ECMAScript中的一切都区分大小写，无论是变量、函数名、还是操作符，都区分大小写
>typeof不能作为函数名，因为它是关键字，但是Typeof是一个完全有效的函数名

### 标识符

>**就是变量、函数、属性或函数参数的名称**

标识符可以由一个或多个下列字符组成：
- 第一个字符必须是一个字母、下划线或美元符号；
- 剩下的其它字符可以是字母、下划线、美元符号或数字；

标识符中的字母可以是扩展ASCII(Extended ASCII)中的字母，也可以是Unicode的字母字符

>按照惯例，ECMAScript标识符使用驼峰大小写形式，即**第一个单词的首字母小写**，**后面的每个单词的首字母大写**

***关键字、保留字、true、false、null不能作为标识符***

### 注释

ECMAScript采用C语音风格的注释，包括单行注释和块注释  
单行注释以两个斜杠字符开头

```js
// 单行注释
```

块注释以一个斜杠和一个星号（/\*）开头，以它们的反相组合（\*/）

```js
/* 这是多行
注释 */
```

### 严格模式

ECMAScript5增加了严格模式（strict mode）概念  

严格模式是一种不同的JavaScript解析和执行模型

ECMAScript3的一些不规范写法在这里会被处理，对于不安全的活动将抛出错误

要启动严格模式，在脚本开头加上一行：

```js
"use strict"
```

虽然看起来像个没有赋值给任何变量的字符串，但其实是一个预处理**指令**

任何支持js引擎看到它都会切换到严格模式，这种语法的目的是不破坏ECMAScript 3 语法

也可单独指定一个函数在严格模式下执行，只要把预处理指令放到函数体开头

```js
function doSomething(){
    "use strict";
    // 函数体
}
```

### 语句

ECMAScript 中的语句以分号结尾，省略号意味着由解析器确定语句在哪里结尾

```js
let sum = a + b // 没有分号也有效，但不推荐
let diff = a - b; // 加分号有效，推荐
```

- 即使语句末尾的分号不是必须的，也应该加上。
- 加分号可以有助于方式省略造成的问题，如避免输入内容不完整
- 有助于开发着通过删除空行来压缩代码（如果没有分号，只删除空行，会导致语法错误）
- 有助于在某些情况下提升性能，因为解析器会尝试在合适的位置补上分号纠正语法错误

控制语句只在执行多条语句时要求必须有代码块，不过最佳实践是始终在控制语句中使用代码块

即使要执行的只有一条语句

在控制语句中使用代码块可以让内容更清晰，需要修改代码时也可以减少出错的可能性

```js
if(test)
    console.log(test);
// 有效，容易导致错误，应该避免

if(test){
    console.log(test);
}
// 推荐
```

### 关键字与保留字







# 转义字符

|显示结果|描述|实体名称|实体编号|
|---|---|---|---|
| |空格|\&nbsp;|\&#160;|
|<|小于号|\&lt;|\&#60;|
|>|大于号|\&gt;|\&#62;|
|&|和号|\&amp;|\&#38;|
|“|引号|\&quot;|\&#34;|
|‘|撇号|\&apos;(IE不支持)|\&#39;|
